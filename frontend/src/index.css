@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --chat-text: #000000;
        --chat-code-bg: #f3f4f6;
        --chat-code-border: #d1d5db;
        --chat-code-text: #000000;
    }

    .dark {
        --chat-text: #ffffff;
        --chat-code-bg: #000000;
        --chat-code-border: #374151;
        --chat-code-text: #ffffff;
    }

    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
}

::-webkit-scrollbar-track {
    @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-700 rounded-full hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors;
}

/* Base styles */
body {
    @apply bg-white dark:bg-night-950 text-gray-900 dark:text-gray-100 font-sans antialiased selection:bg-primary-500/30;
}

/* Custom utilities */
@layer utilities {
    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-purple;
    }

    .glass {
        @apply bg-white/5 backdrop-blur-lg border border-white/10;
    }

    .glass-dark {
        @apply bg-dark-200/80 backdrop-blur-lg border border-white/5;
    }
}

/* Animation for typing indicator */
.typing-dot {
    animation: typing-bounce 1.4s infinite ease-in-out both;
}

.typing-dot:nth-child(1) {
    animation-delay: -0.32s;
}

.typing-dot:nth-child(2) {
    animation-delay: -0.16s;
}

@keyframes typing-bounce {

    0%,
    80%,
    100% {
        transform: scale(0);
    }

    40% {
        transform: scale(1);
    }
}

/* Message bubble animations */
.message-enter {
    opacity: 0;
    transform: translateY(20px);
}

.message-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 300ms, transform 300ms;
}

/* Button hover effects */
.btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98];
}

.btn-secondary {
    @apply bg-dark-100 hover:bg-dark-200 text-gray-200 font-medium py-2 px-4 rounded-lg border border-white/10 transition-all duration-200;
}

.btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200;
}

/* Input styles */
.input-field {
    @apply w-full bg-white dark:bg-night-900 border border-gray-200 dark:border-night-800 rounded-lg px-4 py-3 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200;
}

/* Card styles */
.card {
    @apply bg-dark-200 border border-white/5 rounded-xl p-6 shadow-xl;
}


/* Utility to force inheritance - The Dual-Lock Strategy */
.force-inherit,
.force-inherit * {
    color: inherit !important;
}

/* Allow code blocks to manage their own color */
.force-inherit code,
.force-inherit pre,
.force-inherit code *,
.force-inherit pre * {
    color: initial !important;
}

/* Specific styling for the code blocks */
.chat-code-block {
    @apply font-mono text-sm border rounded p-4 mb-4 overflow-x-auto block;
    background-color: #f3f4f6 !important;
    color: #000000 !important;
    border-color: #d1d5db !important;
}

.dark .chat-code-block {
    background-color: #1e1e2e !important;
    color: #ffffff !important;
    border-color: #374151 !important;
}